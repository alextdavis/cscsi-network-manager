<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Healthcare Manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="It's a Healthcare Manager">
  <meta name="author" content="Alex Davis">

  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

  <link href="/css/main.css" rel="stylesheet">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

  <script src="/js/main.js"></script>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <link href="//netdna.bootstrapcdn.com/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
  <link href="/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />

  <script src="//cdn.jsdelivr.net/html5shiv/3.7.1/html5shiv.min.js"></script>
  <script src="//cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
  <script src="/respond.proxy.js"></script>
  <![endif]-->

  <link rel="shortcut icon" href="/favicon.png">
  <!--
  I kept these here for when I get around to exporting the logo in these sizes. TODO: Resize logo for iOS
  Random Protip: RubyMine treats TODO as a keyword, making any text afer it colorful, and shows it in the todo toolbar below!
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./assets/ico/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./assets/ico/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./assets/ico/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-57-precomposed.png">
  -->

</head>

<body>

<% if is_admin? %>
    <%= erb BSBar.bar(:mainBar) %>
<% elsif current_user %>
    <%= erb BSBar.bar(:mainBar) %>
<% else %>
    <%= erb BSBar.bar(:mainBar) %>
<% end %>

<div class="container">

  <% # This is for flash, a really handy sinatra tool that uses sessions to give users messages which persist for one page load    %>
  <% if flash[:info] %>
      <div class="alert alert-info">
        <button type="button" class="close" data-dismiss="alert">×</button> <%= flash[:info] %> </div>
  <% end %>
  <% if flash[:success] %>
      <div class="alert alert-success">
        <button type="button" class="close" data-dismiss="alert">×</button><%= flash[:success] %>  </div>
  <% end %>
  <% if flash[:error] %>
      <% unless flash[:error]=='' or flash[:error]==nil or flash[:error]==[] %>
          <div class="alert alert-danger">
            <button type="button" class="close" data-dismiss="alert">×</button> <%= flash[:error] %> </div>
      <% else #There was, at one point, a way for an empty error to occur. It's since been fixed (I hope), but this contingency remains just in case.    %>
          <div class="alert alert-danger">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <strong> Unknown Error.</strong> It appears that an operation failed, but no error message was generated.
            Please contact site admin.
          </div>
      <% end %>
  <% end %>

  <%= yield %>

  <hr/>
  <footer>
    <p>&copy; Alex Davis 2014</p>
  </footer>
</div>
<!-- /container -->

</body>
</html>
